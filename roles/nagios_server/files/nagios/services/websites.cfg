define service {
  hostgroup_name        proxies
  service_description   fedoraproject.org
  check_command         check_website!fedoraproject.org!/!getfedora.org
  use                   websitetemplate
}

define service {
  hostgroup_name        proxies
  service_description   fedoraproject.org - wiki
  check_command         check_website!fedoraproject.org!/wiki/Fedora_Project_Wiki!Fedora Marketing
  max_check_attempts    10
  use                   websitetemplate
}

define service {
  hostgroup_name        proxies
  service_description   fedoraproject.org - wiki - non-cached
  check_command         check_website!fedoraproject.org!/wiki/Special:Version!MediaWiki is free software
  max_check_attempts    10
  use                   websitetemplate
}

define service {
  hostgroup_name        proxies
  service_description   mirrors.fedoraproject.org - mirrorlist
  check_command         check_website!mirrors.fedoraproject.org!/mirrorlist?repo=rawhide&arch=x86_64&country=global!development
  use                   websitetemplate
}

define service {
  hostgroup_name        proxies
  service_description   pkgdb-external
  check_command         check_website_ssl!admin.fedoraproject.org!/pkgdb/collections/!EPEL
  use                   websitetemplate
}

define service {
  hostgroup_name        proxies
  service_description   start.fedoraproject.org
  check_command         check_website_ssl!start.fedoraproject.org!/!The Fedora Project is maintained
  use                   websitetemplate
}

define service {
  hostgroup_name        proxies
  service_description   accounts
  check_command         check_website_ssl!admin.fedoraproject.org!/accounts/help/get_help/user_telephone!emergency
  use                   websitetemplate
}

define service {
  hostgroup_name        proxies
  service_description   bodhi
  check_command         check_website_ssl!bodhi.fedoraproject.org!/!Fedora
  max_check_attempts    8
  use                   websitetemplate
}

define service {
  hostgroup_name        proxies
  service_description   bodhi2
  check_command         check_website_ssl!bodhi.fedoraproject.org!/!top testers
  max_check_attempts    8
  use                   websitetemplate
}

##
## Other Frontend Websites 

define service {
  hostgroup_name        anitya-frontend
  service_description   release-monitoring.org/ Anitya
  check_command         check_website_ssl!release-monitoring.org!/!Anitya
  use                   websitetemplate
}

define service {
  hostgroup_name        autocloud-web
  service_description   autocloud-internal
  check_command         check_website!localhost!/autocloud/jobs/!Output
  max_check_attempts    8
  use                   internalwebsitetemplate
}

define service {
  hostgroup_name        badges-web
  service_description   badges.fedoraproject.org/ Tahrir
  check_command         check_website!localhost!/!Tahrir
  use                   websitetemplate
}


define service {
  hostgroup_name        bodhi2
  service_description   bodhi-internal
  check_command         check_website!localhost!/!Fedora
  max_check_attempts    8
  use                   internalwebsitetemplate
}

define service {
  hostgroup_name        bodhi2
  service_description   bodhi2-internal
  check_command         check_website!localhost!/!top testers
  max_check_attempts    8
  use                   internalwebsitetemplate
}

define service {
  hostgroup_name        darkserver
  service_description   darkserver-serverversion
  use                   websitetemplate
  check_command         check_website!localhost!/darkserver/serverversion!server-version
}

define service {
  hostgroup_name        datagrepper
  service_description   datagrepper-frontpage
  check_command         check_website!localhost!/datagrepper/reference/!General
  max_check_attempts    8
  use                   internalwebsitetemplate
}

define service {
  hostgroup_name        datagrepper
  service_description   datagrepper-db-query
  check_command         check_website!localhost!/datagrepper/raw/?delta=86400!timestamp
  max_check_attempts    8
  use                   internalwebsitetemplate
}

define service {
  hostgroup_name        docker-registry
  service_description   docker-registry
  check_command         check_website!localhost:5000!/v2/!{}
  max_check_attempts    8
  use                   internalwebsitetemplate
}

define service {
  hostgroup_name        fasservers
  service_description   accounts
  check_command         check_website!localhost!/accounts/help/get_help/user_telephone!emergency
  use                   internalwebsitetemplate
}

define service {
  hostgroup_name        github2fedmsg
  service_description	github2fedmsg-internal
  check_command		check_website!localhost!/github2fedmsg/!stuff
  max_check_attempts	8
  use			internalwebsitetemplate
  event_handler         restart_httpd
}

define service {
  hostgroup_name        ipsilon
  service_description   ipsilon-internal
  check_command         check_website!localhost!/!Federated Open Authentication
  max_check_attempts    8
  use                   internalwebsitetemplate
  event_handler         restart_httpd
}

define service {
  hostgroup_name        ipa
  service_description   ipa-internal
  check_command         check_website!localhost!/ipa/ui/!Identity Management
  max_check_attempts    8
  use                   internalwebsitetemplate
  event_handler         restart_httpd
}

define service {
  hostgroup_name        koschei-web
  service_description   koschei-internal
  check_command         check_website!localhost!/koschei/!All packages
  max_check_attempts    8
  use                   internalwebsitetemplate
}


define service {
  hostgroup_name        koji
  service_description   koji
  check_command         check_website!koji.fedoraproject.org!/koji/hosts!arm04-builder
  use                   websitetemplate
}

define service {
  hostgroup_name        mm-frontend
  service_description   mm-publiclist-internal
  check_command         check_website_publiclist!localhost!/mirrormanager/api/mirroradmins/?name=dl.fedoraproject.org
  use                   internalwebsitetemplate
  event_handler         restart_httpd
}

define service {
  hostgroup_name        notifs-web
  service_description   apps.fedoraproject.org/notifications fmn.web
  check_command         check_website!localhost!/notifications!Notifications
  use                   websitetemplate
}

define service {
  hostgroup_name        nuancier
  service_description   apps.fedoraproject.org/nuancier nuancier
  check_command         check_website!localhost!/nuancier!Nuancier
  use                   websitetemplate
}

define service {
  hostgroup_name	packages
  service_description	packages-internal
  check_command		check_website!localhost!/packages/!Packages
  max_check_attempts	8
  use			internalwebsitetemplate
  event_handler         restart_httpd
}

define service {
  hostgroup_name        packages
  service_description   packages-internal-bugstab
  check_command         check_website!localhost!/packages/fcomm_connector/bugzilla/query/query_bugs/%7B%22filters%22:%7B%22package%22:%22nethack%22,%22version%22:%22%22%7D,%22rows_per_page%22:10,%22start_row%22:0%7D!total_rows
  max_check_attempts    8
  use                   internalwebsitetemplate
  # When this thing dies, you usually just need to nuke /var/cache/fedoracommunity/bugzillacookies
  #event_handler         nuke_bugzillacookies_handler
}

# Commenting out this service check.  It always goes down.
# Someday, when we're on rhel7 with dnf, we're going to rewrite the feature in
# fedora-packages to not use yum and hopefully be more stable.  At that point,
# we can reintroduce this.
#define service {
#  hostgroup_name        packages
#  service_description   packages-internal-relationshiptab
#  check_command         check_website!localhost!/packages/fcomm_connector/yum/query/query_provides/%7B%22filters%22:%7B%22package%22:%22nethack%22,%22version%22:%223.4.3-26.fc17%22,%22repo%22:%22Rawhide%22,%22arch%22:%22x86_64%22%7D,%22rows_per_page%22:10,%22start_row%22:0%7D!total_rows
#  max_check_attempts    8
#  use                   internalwebsitetemplate
#}

define service {
  hostgroup_name             paste
  service_description   Pastebin webapp on paste
  check_command         check_website!localhost!/!Archives
  use                   websitetemplate
}


define service {
  hostgroup_name        pkgs
  service_description   Cgit on pkgs
  check_command         check_website!localhost!/cgit/rpms/!Description
  use                   websitetemplate
}

define service {
  hostgroup_name        pkgdb
  service_description   pkgdb-internal
  check_command         check_website!localhost!/pkgdb/collections/!EPEL
  use                   internalwebsitetemplate
  event_handler         restart_httpd
}

define service {
  hostgroup_name        sundries
  service_description   freemedia-internal
  check_command         check_website!localhost!/freemedia/FreeMedia-form.html!Media
  use                   internalwebsitetemplate
}

define service {
  hostgroup_name	tagger
  service_description	tagger-internal
  check_command		check_website!localhost!/tagger/api/v1/score/ralph/!libravatar.org
  max_check_attempts	8
  use			internalwebsitetemplate
  #event_handler         restart_httpd
}

define service {
  hostgroup_name             value
  service_description   Check møte process
  check_command         check_website!localhost!/!møte
  use                   websitetemplate
}



##
## Individual hosts

define service {
  hostgroup_name        koji
  service_description   koji-frontend
  check_command         check_website_ppc!localhost!/koji/!Recent
  use                   ppc-secondarytemplate
}

define service {
  host_name             status-fedora2
  service_description   status.fedoraproject.org status
  check_command         check_website!status-fedora2.rhcloud.com!/index.html!All systems go
  use                   websitetemplate
}

define service {
  host_name             magazine.fedorainfracloud.org
  service_description   HTTP check
  use                   websitetemplate
  check_command         check_website!magazine.fedorainfracloud.org!/
}
