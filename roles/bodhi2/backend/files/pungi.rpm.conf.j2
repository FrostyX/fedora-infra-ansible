# PRODUCT INFO
skip_phases= ["buildinstall"]
release_name = '{{ id }}'
release_short = '{{ id }}'
release_version = '{{ release.version }}'
release_is_layered = False
# GENERAL SETTINGS
comps_file = {
    'scm': 'git',
    'repo': 'https://pagure.io/fedora-comps.git',
    'branch': None, # defaults to cvs/HEAD or git/master
    'file': 'comps-f26.xml',
    'command': 'make',
}
variants_file='variants-fedora.xml'
sigkeys = [
{% release.version == 25 %}
	'fdb19c98'
{% elif release.version == 26 %}
	'64dab85d'
{% elif release.version == 27 %}
	'f5282ee4'
{% elif release.version == 6 %}
	'0608b895'
{% elif release.version == 7 %}
	'352C64E5'
{% endif %}
]
hashed_directories = True
# RUNROOT settings
runroot = True
#runroot_channel = 'fedora_compose'
runroot_channel = 'compose'
runroot_tag = '{{ release.dist_tag }}-build'
# PKGSET
pkgset_source = 'koji' # koji, repos
pkgset_koji_tag = '{{ id }}'
pkgset_koji_inherit = False
filter_system_release_packages = False
# GATHER
gather_source = 'comps'
gather_method = 'deps'
check_deps = False
greedy_method = 'build'
# CREATEREPO
createrepo_c = True
createrepo_checksum = 'sha256'
# CHECKSUMS
media_checksums = ['sha256']
media_checksum_one_file = True
media_checksum_base_filename = 'Fedora-%(variant)s-%(version)s-%(date)s.%(respin)s-%(arch)s'
#jigdo
create_jigdo = False
#extra_packages = [
#    '/mnt/packages/foo*',
#]
# fomat: [(variant_uid_regex, {arch|*: [packages]})]
additional_packages = [
    ('.*', {
        '*': [
            'kernel.*',
            'dracut.*',
            'autocorr-.*',
            'eclipse-nls-.*',
            'hunspell-.*',
            'hyphen-.*',
            'calligra-l10n-.*',
            'kde-l10n-.*',
            'libreoffice-langpack-.*',
            'man-pages-.*',
            'mythes-.*',
        ],
    }),
    ('^Everything$', {
        '*': [
            '*',
        ],
    }),
    ('^Server$', {
        '*': [
        ],
    }),
    ('^Workstation$', {
        '*': [
        ],
    }),
    ('^Cloud$', {
        '*': [
        ],
    }),
]
multilib = [
    ('^Everything$', {
        'x86_64': ['devel', 'runtime'],
         's390x': ['devel', 'runtime']
    })
]
filter_packages = [
    ('(Workstation|Server|Cloud)$', {
        '*': [
        '^kernel.*debug.*',
        '^kernel-kdump.*',
        '^kernel-tools.*',
        '^syslog-ng.*',
        '^astronomy-bookmarks',
        '^generic.*',
        '^GConf2-dbus.*',
        '^bluez-gnome',
        #Periods cause problems in paterns, so replace with *s
        '^java-1.8.0-openjdk',
        '^community-mysql.*',
        '^jruby.*',
        '^gimp-help-.*',
        ]
    }),
]
# format: {arch|*: [packages]}
multilib_blacklist = {
    '*': ['kernel*', 'kernel-PAE*', 'kernel*debug*',
        'dmraid-devel', 'kdeutils-devel', 'mkinitrd-devel',
        'java-1.5.0-gcj-devel', 'java-1.7.0-icedtea-devel',
        'php-devel', 'java-1.6.0-openjdk-devel',
        'java-1.7.0-openjdk-devel', 'java-1.8.0-openjdk-devel',
        'httpd-devel', 'tomcat-native', 'php*', 'httpd',
        'krb5-server', 'krb5-server-ldap', 'mod_*', 'ghc-*'
    ],
}
# format: {arch|*: [packages]}
multilib_whitelist = {
    '*': ['libgnat', 'wine*', 'lmms-vst', 'nspluginwrapper',
        'libflashsupport', 'valgrind', 'perl-libs', 'redhat-lsb',
        'yaboot', 'syslinux-extlinux-nonlinux', 'syslinux-nonlinux',
        'syslinux-tftpboot', 'nosync', '*-static'
    ],
}
createiso_skip = [
        ('^Workstation$', {
            '*': True,
            'src': True
        }),
        ('^Server$', {
            'src': True
        }),
        ('^Cloud$', {
            '*': True,
            'src': True
        }),
        ('^Everything$', {
            '*': True,
            'src': True
        }),
    ]
# fomat: [(variant_uid_regex, {arch|*: [scm_dicts]})]
#extra_files = [
#    ('^(Server|Workstation|Cloud)$', {
#        '*': [
#            {
#                'scm': 'rpm',
#                'repo': 'fedora-release-%(variant_id_lower)s',
#                'branch': None,
#                'file': [
#                    '/etc/pki/rpm-gpg/RPM-GPG-KEY-fedora-release',
#                ],
#                'target': '',
#            },
#        ],
#    }),
#]
translate_paths = [
   ('/mnt/koji/compose/', 'https://kojipkgs.fedoraproject.org/compose/'),
]
koji_profile = 'bodhi_koji'
link_type = 'hardlink-or-copy'
