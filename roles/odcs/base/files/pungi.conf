# Automatically generated by ODCS.
# PRODUCT INFO
release_name = '{{ config.release_name }}'
release_short = '{{ config.release_short }}'
release_version = '{{ config.release_version }}'
release_is_layered = False

# GENERAL SETTINGS
bootable = {{ config.bootable }}

variants_file='variants.xml'

{%- if config.sigkeys %}
sigkeys = [
{%- for sigkey in config.sigkeys %}
        '{{ sigkey }}',
{%- endfor%}
]
{%- else %}
sigkeys = [None]
{%- endif %}

hashed_directories = True

# RUNROOT settings
runroot = True
runroot_tag = "f26-build"
runroot_channel = "compose"

# PDC settings
pdc_url = '{{ config.pdc_url }}'
pdc_insecure = {{ config.pdc_insecure }}
pdc_develop = {{ config.pdc_develop }}

# PKGSET
{%- if config.pkgset_source == 'repos' %}
pkgset_source = 'repos'
pkgset_repos = {
{%- for arch in config.arches %}                                                                                                                                                                                  
    '{{ arch }}': ['{{ config.source }}',],                                                                                                                                                                       
{%- endfor %}                                                                                                                                                                                                     
}                                                                                                                                                                                                                 
{%- elif config.pkgset_source == 'koji' %}                                                                                                                                                                        
pkgset_source = 'koji'                                                                                                                                                                                            
pkgset_koji_tag = '{{ config.koji_tag }}'                                                                                                                                                                         
pkgset_koji_inherit = {{ config.pkgset_koji_inherit }}                                                                                                                                                            
{%- endif %}                                                                                                                                                                                                      
                                                                                                                                                                                                                  
filter_system_release_packages = False                                                                                                                                                                            
                                                                                                                                                                                                                  
# GATHER                                                                                                                                                                                                          
gather_source = '{{ config.gather_source }}'
gather_method = '{{ config.gather_method }}'
{%- if config.comps_file %}
comps_file = '{{ config.comps_file }}'
{%- endif %}
check_deps = False
greedy_method = 'build'

# CREATEREPO
createrepo_c = True
createrepo_checksum = 'sha256'

# CHECKSUMS
media_checksums = ['sha256']
create_jigdo = False

# BUILDINSTALL
{%- if config.bootable %}
buildinstall_method="lorax"
{%- endif %}

skip_phases = [
{%- if "iso" not in config.results %}
    "createiso",
{%- endif %}
{%- if "boot.iso" not in config.results %}
    "buildinstall",
{%- endif %}
    "live_media",
    "live_images",
    "ostree"]

translate_paths = [
   ('/mnt/koji/compose/', 'http://kojipkgs.fedoraproject.org/compose/'),
]

koji_profile = '{{ config.koji_profile }}'


